# 開発開始前必須タスク一覧

## 1. エージェント動作基盤の構築

### 1.1 サブエージェント定義ファイル作成

- [x] `.claude/agents/requirements_analysis.md` - 要求分析エージェント定義
- [x] `.claude/agents/requirements_definition.md` - 要件定義エージェント定義
- [x] `.claude/agents/ux_ui_design.md` - UX/UIデザインエージェント定義
- [x] `.claude/agents/architect.md` - アーキテクトエージェント定義
- [x] `.claude/agents/frontend.md` - フロントエンドエージェント定義
- [x] `.claude/agents/backend.md` - バックエンドエージェント定義
- [x] `.claude/agents/database.md` - データベースエージェント定義
- [x] `.claude/agents/test.md` - テストエージェント定義
- [x] `.claude/agents/security.md` - セキュリティエージェント定義
- [x] `.claude/agents/devops.md` - DevOpsエージェント定義
- [x] `.claude/agents/project_manager.md` - プロジェクトマネージャーエージェント定義

### 1.2 Taskツール標準化

- [x] 各エージェント用promptテンプレート作成
- [x] Task呼び出し仕様書作成 (`docs/agents/task_calling_standards.md`)
- [x] エージェント間連携プロトコル具体化
- [x] 成果物引き継ぎフォーマット標準化

## 2. プロジェクト管理基盤の構築

### 2.1 GitHub設定

- [x] リポジトリ初期設定（README、.gitignore、ライセンス）
- [x] ブランチ保護ルール設定
- [x] CODEOWNERS ファイル作成
- [x] Issue/PRテンプレート作成
- [x] GitHub Projects設定（カンバンボード）
- [x] GitHub Actions基本ワークフロー作成

### 2.2 開発環境統一

- [ ] `.nvmrc` - Node.jsバージョン固定
- [ ] `package.json` - 共通スクリプト定義
- [ ] `.editorconfig` - エディタ設定統一
- [ ] `.vscode/settings.json` - VS Code設定共有
- [ ] `tsconfig.json` - TypeScript設定
- [ ] ESLint/Prettier設定ファイル

### 2.3 Docker開発環境

- [ ] `docker-compose.dev.yml` - 開発環境構成
- [ ] PostgreSQL設定 (`docker/postgres/`)
- [ ] Redis設定 (`docker/redis/`)
- [ ] 各サービス用Dockerfile作成
- [ ] 開発環境セットアップスクリプト (`scripts/setup-dev.sh`)

## 3. ドキュメント体系の整備

### 3.1 必須ドキュメントテンプレート作成

- [ ] `docs/project/requirements_analysis_template.md`
- [ ] `docs/project/requirements_definition_template.md`
- [ ] `docs/architecture/system_design_template.md`
- [ ] `docs/architecture/api_specification_template.md`
- [ ] `docs/architecture/database_schema_template.md`
- [ ] `docs/development/coding_standards.md`
- [ ] `docs/development/testing_strategy.md`

### 3.2 会議・コミュニケーション

- [ ] 議事録フォーマット統一
- [ ] ステークホルダーヒアリング計画
- [ ] 定期レビュー会議設定
- [ ] エスカレーション手順書

## 4. 技術基盤の事前設定

### 4.1 認証・セキュリティ基盤

- [ ] JWT設定仕様決定
- [ ] OAuth2プロバイダー選定・設定
- [ ] パスワードポリシー定義
- [ ] セキュリティヘッダー設定
- [ ] CORS設定仕様

### 4.2 データベース基盤

- [ ] PostgreSQL接続設定
- [ ] TypeORM基本設定
- [ ] マイグレーション戦略定義
- [ ] 接続プール設定
- [ ] バックアップ戦略

### 4.3 API基盤

- [ ] RESTful API設計原則定義
- [ ] エラーレスポンス形式標準化
- [ ] ページネーション方式決定
- [ ] レート制限仕様
- [ ] API バージョニング戦略

## 5. 品質・テスト基盤

### 5.1 テスト環境

- [ ] Jest設定ファイル
- [ ] テストデータベース設定
- [ ] E2Eテスト環境構築
- [ ] モックサーバー設定
- [ ] カバレッジ設定

### 5.2 品質管理ツール

- [ ] SonarQube設定（静的解析）
- [ ] Snyk設定（脆弱性検査）
- [ ] 依存関係管理ポリシー
- [ ] コードレビューチェックリスト

## 6. 運用・監視基盤

### 6.1 ログ・監視

- [ ] ログフォーマット統一
- [ ] エラー追跡（Sentry）設定
- [ ] ヘルスチェックエンドポイント設計
- [ ] メトリクス収集設定

### 6.2 デプロイ基盤

- [ ] 環境別設定管理（dev/staging/prod）
- [ ] CI/CDパイプライン設計
- [ ] デプロイメント戦略（Blue-Green、Rolling）
- [ ] ロールバック手順

## 7. データ・コンテンツ準備

### 7.1 サンプルデータ

- [ ] 映画データ（100件以上）準備
- [ ] 俳優データ準備
- [ ] ジャンルマスターデータ
- [ ] シーンカテゴリマスターデータ
- [ ] ユーザーサンプルデータ

### 7.2 テストデータ

- [ ] 単体テスト用ダミーデータ
- [ ] 統合テスト用データセット
- [ ] パフォーマンステスト用大量データ
- [ ] E2Eテスト用シナリオデータ

## 8. 法務・コンプライアンス

### 8.1 利用規約・プライバシー

- [ ] 利用規約案作成
- [ ] プライバシーポリシー案作成
- [ ] データ取扱い同意書
- [ ] Cookie使用に関する同意

### 8.2 知的財産・ライセンス

- [ ] 使用ライブラリのライセンス確認
- [ ] 映画データの使用許諾確認
- [ ] 俳優写真等の著作権処理方針
- [ ] オープンソースライセンス選定

## 9. リスク管理・緊急時対応

### 9.1 リスク分析

- [ ] 技術リスク一覧・対策
- [ ] スケジュールリスク・対策
- [ ] 人的リソースリスク・対策
- [ ] 外部依存リスク・対策

### 9.2 緊急時対応

- [ ] 障害対応手順書
- [ ] データ損失時復旧手順
- [ ] セキュリティインシデント対応
- [ ] 緊急連絡体制

## 10. ステークホルダー管理

### 10.1 関係者整理

- [ ] ステークホルダーマップ作成
- [ ] 役割・責任分担表（RACI）
- [ ] コミュニケーション計画
- [ ] 意思決定プロセス明確化

### 10.2 外部協力者

- [ ] 外部レビュアー選定
- [ ] 専門家相談体制
- [ ] ユーザビリティテスト協力者確保
- [ ] ベータテスター募集計画

## 優先度分類

### P0 (開発開始に絶対必要)

1. **サブエージェント定義ファイル作成** (1.1) ✅
2. **GitHub基本設定** (2.1) 🔄
3. **開発環境Docker構築** (2.3)
4. **必須ドキュメントテンプレート** (3.1)
5. **技術基盤仕様決定** (4.1-4.3)

### P1 (Phase1開始までに必要)

1. **テスト環境構築** (5.1)
2. **サンプルデータ準備** (7.1)
3. **リスク分析・対策** (9.1)
4. **ステークホルダー整理** (10.1)

### P2 (開発中に順次対応)

1. **品質管理ツール設定** (5.2)
2. **運用・監視基盤** (6.1-6.2)
3. **法務・コンプライアンス** (8.1-8.2)
4. **緊急時対応準備** (9.2)

### P3 (運用開始前までに完了)

1. **テストデータ整備** (7.2)
2. **外部協力者体制** (10.2)

## 実行計画

### Week 0 (準備週間)

- P0タスクの80%完了目標
- 特にエージェント定義とGitHub設定を最優先

### Week 1-2 (Phase1準備)

- P1タスクの完了
- P0残タスクの完了
- 実際の開発開始準備

### 継続的実施

- P2、P3タスクの並行実施
- 各フェーズでの進捗確認・調整

---

**作成日**: 2025年8月22日  
**最終更新**: 2025年8月22日  
**目的**: 開発開始前の必須タスク漏れ防止  
**対象**: 全プロジェクトメンバー  
**次回レビュー**: P0タスク完了時

## 完了状況

### ✅ 完了済み

- サブエージェント定義ファイル作成（11個）
- 開発フローシミュレーション実行・検証
- 基本ディレクトリ構造作成
- プロジェクト憲章のsubagent_type修正（general-purpose → 具体的エージェント名）

### 🔄 進行中

- GitHub基本設定

### ⏳ 準備中

- ステークホルダーヒアリング議事録
