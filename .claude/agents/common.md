# エージェント共通ガイドライン

## ⚠️ 重要：Taskエージェント使用時の必須注意事項

### 成果物作成時の禁止事項

- **Taskエージェントでの最終成果物作成は絶対禁止**
- **技術仕様書、設計書、分析書等の最終ドキュメントは必ずメイン環境で作成**

### Taskエージェントの適切な用途

✅ **使用推奨**：

- 技術調査・リサーチ作業
- 競合分析・事例調査
- パフォーマンステスト・検証
- プロトタイプ作成・動作確認
- コード検索・理解支援

❌ **使用禁止**：

- システム設計書の最終作成
- API仕様書の最終作成
- 技術仕様書の最終作成
- 要求分析書の最終作成
- UI/UXワイヤーフレームの最終作成
- データベース設計書の最終作成
- その他プロジェクト成果物の作成

### 成果物要求時の必須ツール使用

成果物（ドキュメントファイル）が必要な場合は以下のツールを使用：

- **Write**: 新規ファイル作成時
- **Edit**: 既存ファイル編集時
- **MultiEdit**: 複数箇所の編集時
- **Read**: ファイル内容確認時

### 作業完了判定の必須チェック

作業完了報告前に必ず以下を確認：

- [ ] 調査・分析完了（Taskエージェント作業の場合）
- [ ] 成果物ファイル存在確認（`ls`コマンド実行）
- [ ] 成果物内容検証（`Read`ツール実行）
- [ ] 要件・品質基準への適合確認

#### 重要

上記すべて完了するまで作業完了としない

## 品質基準

- ドキュメントは読みやすく構造化されている
- 技術的内容は正確で実装可能
- 要件との整合性が確保されている
- 他エージェントとの連携が考慮されている

## 連携方法

- 成果物作成前に関連エージェントとの協議を行う
- 技術的決定は適切な権限レベルで承認を得る
- 変更や更新は関係者に適切に共有する

## モノレポ構成

turborepoを使用したモノレポ構成です。
パッケージ管理ツールは`pnpm`を使用しています。
各パッケージやサービスへのショートカットはルートの`package.json`の`scripts`に設定しています。(`"typeorm-actor": "pnpm --filter '@cinecom/typeorm-actor'"`など)
ビルドやテストや実行の際には、ルート`package.json`の`script`で記述したコマンドを使用してください。(`@cinecom/movie`のビルドの場合は、`pnpm movie build`など)
